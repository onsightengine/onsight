<!DOCTYPE html>
<html lang='en'>
<head>
    <title>Salinity â€¢ Playground</title>
    <meta charset='UTF-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' />
    <meta name='viewport' content='width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0'>
    <link rel='icon' type='image/png' href='../files/logo/salinity256.png' />
    <link rel='stylesheet' href='./main.css' />
</head>
<body>

    <div id='container' style='position:absolute; width:100%; height:100%; top:0px; left:0px; overflow: hidden;'></div>

    <script src='./imports.js'></script>

    <script type='module'>

        import {
            Scene,
        } from 'salt';
        import * as SUEY from 'suey';

        const scene = new Scene.Object2D();

        // Objects
        const box = new Scene.Box().setPosition(-100, 0);
        box.fillStyle.color = '#ff0000';
        box.draggable = true;
        scene.add(box);
        new Scene.ResizeTool(box, scene);

        const rainbowBox = new Scene.Box().setPosition(-100, 200);
        rainbowBox.draggable = true;
        rainbowBox.fillStyle = new Scene.LinearGradientStyle();
        rainbowBox.fillStyle.start.set(-50, -50);
        rainbowBox.fillStyle.end.set(50, 50);
        rainbowBox.fillStyle.addColorStop(0, '#ff0000');
        rainbowBox.fillStyle.addColorStop(0.5, '#00ff00');
        rainbowBox.fillStyle.addColorStop(1, '#0000ff');
        scene.add(rainbowBox);
        new Scene.ResizeTool(rainbowBox, scene);

        const circle = new Scene.Circle().setPosition(100, 0);
        circle.radius = 50;
        circle.draggable = true;
        scene.add(circle);
        new Scene.ResizeTool(circle, scene);

        const rainbowCircle = new Scene.Circle().setPosition(100, 200);
        rainbowCircle.radius = 50;
        rainbowCircle.draggable = true;
        rainbowCircle.fillStyle = new Scene.RadialGradientStyle();
        rainbowCircle.fillStyle.addColorStop(0, '#000000');
        rainbowCircle.fillStyle.addColorStop(1, '#ffffff');
        scene.add(rainbowCircle);
        new Scene.ResizeTool(rainbowCircle, scene);

        const text = new Scene.Text().setPosition(0, -100);
        text.fillStyle.color = 'var(--icon)';
        text.text = 'Hello World!';
        text.draggable = true;
        scene.add(text);
        new Scene.ResizeTool(text, scene);

        const line = new Scene.Line();
        line.strokeStyle.color = '#ff0000';
        line.lineWidth = 10;
        line.draggable = true;
        line.mouseBuffer = 0;
        line.from.set(-200, -200);
        line.to.set(0, 0);
        scene.add(line);

        for (let i = 0; i < 50; i++) {
            const box = new Scene.Box().setPosition((Math.random() * 1000) - 500, (Math.random() * 1000) - 500);
            box.draggable = true;
            // box.focusable = false;
            // box.selectable = false;
            scene.add(box);
        }

        // Renderer
        const renderer = new Scene.Renderer({ width: window.innerWidth, height: window.innerHeight });
        const container = document.getElementById('container');
        container.appendChild(renderer.dom);

        // Camera
        const camera = new Scene.Camera2D();
        camera.position.copy(new Scene.Vector2(renderer.width / 2.0, renderer.height / 2.0));

        // Camera Controls
        const cameraControls = new Scene.CameraControls(renderer, camera);
        renderer.onUpdate(cameraControls);

        // Start
        renderer.start(scene, camera);

    </script>

</body>
</html>